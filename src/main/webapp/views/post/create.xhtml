<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/templates/modeloPagina.xhtml">

	<ui:define name="title">
		Criar Postagem
	</ui:define>

	<ui:define name="resources">
		<f:metadata>
			<f:viewParam name="id" value="#{postagemMBean.postagemId}" />
			<f:viewAction action="#{postagemMBean.carregar}" />
		</f:metadata>
	</ui:define>

	<ui:define name="content">

		<div class="card">
			<h:form id="formuluario">
				<p:messages id="mensagens" />

				<p:fieldset legend="Postagem" id="dadosPostagem">

					<h:panelGrid columns="4" cellpadding="5" styleClass="p-mb-12">
						<p:outputLabel for="dataPostagem" value="Data: " />
						<h:outputText id="dataPostagem" value="#{PostagemMBean.data}">
							<f:convertDateTime dateStyle="default" pattern="dd/MM/yyyy" />
						</h:outputText>
					</h:panelGrid>

					<h:panelGrid columns="4" cellpadding="5" styleClass="p-mb-3">

						<p:fieldset legend="Usuario" id="dadosUsuario">
							<h:panelGrid columns="4" cellpadding="5" styleClass="p-mb-3">
								<p:outputLabel for="nomeUsuario" value="Nome: " />
								<p:selectOneMenu id="nomeUsuario" value="#{postagemMBean.usuarioId}">
									<f:selectItems value="#{postagemMBean.listaUsuarios}" var="usuario"
										itemValue="#{usuario.id}" itemLabel="#{usuario.nome}" />
								</p:selectOneMenu>
							</h:panelGrid>
						</p:fieldset>

						<p:fieldset legend="Categoria" id="dadosCategoria">
							<h:panelGrid columns="4" cellpadding="5" styleClass="p-mb-3">
								<p:outputLabel for="nomeCategoria" value="Categoria: " />
								<p:selectOneMenu id="nomeCategoria"
									value="#{postagemMBean.categoriaId}">
									<f:selectItems value="#{postagemMBean.listaCategorias}"
										var="categoria" itemValue="#{categoria.id}"
										itemLabel="#{categoria.descricao}" />
								</p:selectOneMenu>
							</h:panelGrid>
						</p:fieldset>


					</h:panelGrid>

					<h:panelGrid columns="4" cellpadding="5" styleClass="p-mb-12">

						<h:panelGrid columns="4" cellpadding="5" styleClass="p-mb-3">
							<p:outputLabel for="titulo" value="Título: " />
							<p:inputText id="titulo" value="#{postagemMBean.postagem.titulo}"></p:inputText>
						</h:panelGrid>

						<h:panelGrid columns="4" cellpadding="5" styleClass="p-mb-3">
							<p:outputLabel for="subtitulo" value="SubTítulo: " />
							<p:inputText id="subtitulo" value="#{postagemMBean.postagem.subtitulo}"></p:inputText>
						</h:panelGrid>

					</h:panelGrid>
					
					<h:panelGrid columns="4" cellpadding="5" styleClass="p-mb-12">

						<h:panelGrid columns="4" cellpadding="5" styleClass="p-mb-3">
							<p:outputLabel for="texto" value="Texto: " />
							<p:inputTextarea  id="texto" value="#{postagemMBean.postagem.texto}"
							rows="5" cols="30"></p:inputTextarea >
						</h:panelGrid>

					</h:panelGrid>

					<h:panelGrid columns="4" cellpadding="5" styleClass="p-mb-12">					
						<p:commandButton value="Salvar Post" action="#{postagemMBean.gravar}" update="formuluario" />
					</h:panelGrid>

				</p:fieldset>

			</h:form>
		</div>

	</ui:define>

</ui:composition>

</html>